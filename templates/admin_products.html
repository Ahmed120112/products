{% extends "base.html" %}
{% block content %}
<h1 class="mb-4">Admin - Manage Products</h1>

<!-- Form لإضافة منتج جديد -->
<div>
    <h3>Add Product</h3>
    <form id="addProductForm">
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" id="name" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            <input type="number" id="price" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea id="description" class="form-control"></textarea>
        </div>
        <div class="mb-3">
            <label for="image_url" class="form-label">Image URL</label>
            <input type="url" id="image_url" class="form-control">
        </div>
        <div class="mb-3">
            <label for="category_id" class="form-label">Category ID</label>
            <input type="number" id="category_id" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Add Product</button>
    </form>
</div>

<!-- جدول عرض المنتجات -->
<h3 class="mt-5">Products</h3>
<table class="table" id="productTable">
    <thead>
        <tr>
            <th>Name</th>
            <th>Price</th>
            <th>Description</th>
            <th>Image</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <!-- سيتم تعبئته بواسطة JavaScript -->
    </tbody>
</table>

<!-- Form لتعديل منتج -->
<div id="editProductForm" style="display: none; margin-top: 20px;">
    <h3>Edit Product</h3>
    <form>
        <input type="hidden" id="editProductId">
        <div class="mb-3">
            <label for="editName" class="form-label">Name</label>
            <input type="text" id="editName" name="name" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="editPrice" class="form-label">Price</label>
            <input type="number" id="editPrice" name="price" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="editDescription" class="form-label">Description</label>
            <textarea id="editDescription" name="description" class="form-control"></textarea>
        </div>
        <div class="mb-3">
            <label for="editImageUrl" class="form-label">Image URL</label>
            <input type="url" id="editImageUrl" name="image_url" class="form-control">
        </div>
        <div class="mb-3">
            <label for="editCategoryId" class="form-label">Category</label>
            <input type="number" id="editCategoryId" name="category_id" class="form-control" required>
        </div>
        <button type="button" class="btn btn-primary" onclick="submitEditProduct()">Save Changes</button>
        <button type="button" class="btn btn-secondary" onclick="cancelEdit()">Cancel</button>
    </form>
</div>

<script src="/static/js/admin.js"></script>
{% endblock %}